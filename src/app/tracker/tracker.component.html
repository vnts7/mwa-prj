<div class="box">
  <mat-form-field>
    <input matInput [matDatepicker]="picker" placeholder="Choose a date" (dateChange)="dateChange($event.value)"
      [value]="date">
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>
  <form [formGroup]="form" (submit)="submit()">
    <app-fsearch (select)="foodSelect($event)"></app-fsearch>
    <div *ngIf="showFoodError" class="alert alert-danger">Please select food first!</div>

    <mat-form-field>
      <mat-label>Choose meal</mat-label>
      <select matNativeControl required formControlName="type">
        <option value=""></option>
        <option value="0">Breakfast</option>
        <option value="1">Lunch</option>
        <option value="2">Dinner</option>
        <option value="3">Snacks</option>
      </select>
    </mat-form-field>
    <mat-form-field>
      <input matInput placeholder="Quantity" formControlName="quantity">
    </mat-form-field>
    <button mat-flat-button type="submit" color="warn">Add Food</button>
  </form>

  <div *ngIf="!!tracker">
    <mat-list dense>
      <ng-container *ngFor="let i of tracker.meals">
        <mat-list-item>
          <div class="li-title">{{i.name}}</div>
          <div class="li-stitle">{{i.calories}} calories</div>
          <div class="li-action">Remove</div>
        </mat-list-item>
      </ng-container>

      <mat-divider></mat-divider>
    </mat-list>
    <h3>Total calories: {{tracker.calories}}</h3>
    <div class="fg">
      <label>Weight</label>
      <div>{{tracker.weight}}</div>
    </div>
    <div class="fg">
      <label>CalorieNeeds</label>
      <div>{{tracker.calorieNeeds}}</div>
    </div>
    <div class="fg">
      <label>Goal</label>
      <div>{{tracker.goal}}</div>
    </div>
  </div>
</div>
